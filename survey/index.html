<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>PHQ-9 Depression Test Questionnaire</title>
   <script scr="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
   <link rel="stylesheet" href="https://cdn.form.io/formiojs/formio.full.min.css">
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
   <link rel="stylesheet" href="https://cdn.form.io/formiojs/formio.full.min.css">
   <script src="https://cdn.form.io/formiojs/formio.full.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
      crossorigin="anonymous"></script>
   <link href="https://fonts.googleapis.com/css?family=Lato:300|Open+Sans" rel="stylesheet">
   <link rel="stylesheet" href="./style.css">
   <script src="./script.js"></script>
</head>

<body>
   <!-- partial:index.partial.html -->
   <section class="contact-form">
      <h1>Depression Test Questionnaire</h1>
      <p>The PHQ-9 is a 9-question instrument given to individuals in order to screen for the presence and severity of
         depression. It is the 9-question depression scale from the Patient Health Questionnaire (PHQ). The results of
         the PHQ-9 may be used to make a depression diagnosis according to DSM-IV criteria and takes less than 3 minutes
         to complete. The total of all 9 responses from the PHQ-9 aims to predict the presence and severity of
         depression. Primary care providers frequently use the PHQ-9 to screen for depression in patients.</p>
      <form>
         <h6>Over the last two weeks, how often have you been bothered by any of the following.</h6>

         <div class="input-group">
            <div id="formio"></div>

         </div>


         </div>
      </form>

      <button id="bu" onClick="scrollToBottom()"><input name="results" type="button" value="Results" id="txt"
            onclick="response()" />
      </button>
      <div class="container">
         <p id="info">*Interpretation of results
            The total sum of the responses suggests varying levels of depression. Scores range from 0 to 27. In general,
            a total of 10 or above is suggestive of the presence of depression. Listed below are PHQ-9 totals, the
            levels of depression that they relate to, and suggested treatment for each level of depression: </p>
      </div>
      <div class="container">
         <p id="info">* 1-4: This is considered minimal depression, which suggests that the respondent may not need
            depression treatment.<br>
            * 5-9: This is considered mild depression. In response to this result, healthcare providers can use their
            clinical judgment about treatment based on the duration and severity of symptoms.<br>
            * 10-14: This is considered moderate depression. Similar to mild depression, healthcare providers can use
            their clinical judgment and knowledge of the patient to determine a course of treatment.<br>
            * 15-19: This is considered moderately severe depression. This generally warrants treatment for depression
            using medication, therapy, or a combination of the two.<br>
            * 20-27: This is considered severe depression. This warrants treatment for depression using medication,
            therapy, or a combination of the two.</p>
      </div>

   </section>
   <div class="results">

      <h2>Form Data</h2>
      <pre>

         <div class="container">
         <p id="demo"></p>
      </div>      
      <button id="reb" onClick="scrollToTop()">Return</button>
   </pre>
   </div>

</body>
<script>
   $('#txt').on('click', function () {
      console.log(getsum());
   });
   document.getElementById("gsum").innerHTML = getsum() + i;

   function getsum() {
      var sum = 0;
      $('input:checked').each(function () {
         sum += parseInt($(this).val());
      });
      return sum;
   }
</script>
<script>
   function response() {
      var i = getsum()

      var feedback;
      if (i < 5) {
         feedback = "Your result number is: " + i + "<br></br>According to PHQ9's Personal Health Questionnaire<br></br>Depression Severity of " + "Results: 0-4 equal to None to Minimal: <br></br>w/ No proposed treatment actions.";
      } else if (i < 10) {
         feedback = "Your result number is: " + i + "<br></br>According to PHQ9's Personal Health Questionnaire<br></br>Depression Severity of " + "Results: 5-9 equal to Mild Severety: <br></br>Proposed Treatment Actions: Watchful waiting; repeat PHQ 9<br></br>at Follow-up.";
      } else if (i < 15) {
         feedback = "Your result number is: " + i + "<br></br>According to PHQ9's Personal Health Questionnaire<br></br>Depression Severity of " + "Results: 10-14 equal to Moderate: <br></br>Proposed Treatment Actions: Review treatment plan if not<br></br>improving in past 4 weeks; Consider discussion of additional<br></br>support such as pharmacotherapy.";
      } else if (i < 20) {
         feedback = "Your result number is: " + i + "<br></br>According to PHQ9's Personal Health Questionnaire<br></br>Depression Severity of " + "Results: 15-19 equal to<br></br>Moderately Severe: " + i + "<br></br>Proposed Treatment Actions: <br></br>Consider adjusting treatment plan<br></br>and/or frequency of sessions; Discuss additional<br></br>supports such as pharmacotherapy.";
      } else {
         feedback = "Your result number is: " + i + "<br></br>According to PHQ9's Personal Health Questionnaire<br></br>Depression Severity of " + "Results: 20-27 equal to Severe: <br></br>Proposed Treatment Actions: Adjust treatment plan; focused assessment of safety plan and pharmacotherapy evaluation/ re-evaluation; If emergent then refer to higher level of care; Likely Not a candidate for asynchronous/text therapy.";
      }
      document.getElementById("demo").innerHTML = feedback;
   }
</script>
<script>scrollingElement = (document.scrollingElement || document.body)
   function scrollToBottom() {
      scrollingElement.scrollTop = scrollingElement.scrollHeight;
   }

   function scrollToTop(id) {
      scrollingElement.scrollTop = 0;
   }

   //Require jQuery
   function scrollSmoothToBottom(id) {
      $(scrollingElement).animate({
         scrollTop: document.body.scrollHeight
      }, 500);
   }

   //Require jQuery
   function scrollSmoothToTop(id) {
      $(scrollingElement).animate({
         scrollTop: 0
      }, 500);
   }

</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.13.0/polyfill.min.js'></script>
<script src="./script.js"></script>

</html>